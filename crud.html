<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js" integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+" crossorigin="anonymous"></script>
  </head>
  <body>
      
    <div class="container p-5">
        <div class="col-md-7">
            <div class="form-group">
                <label for="">Name</label>
                <input type="text" name="" id="userName" class="form-control" placeholder="" aria-describedby="helpId">

                <small></small>
            </div>

            <div class="form-group">
                <label for="">Email</label>
                <input type="text" name="" id="userEmail" class="form-control" placeholder="" aria-describedby="helpId">

                <small></small>
            </div>

            <div class="form-group">
                <label for="">Password</label>
                <input type="text" name="" id="userPassword" class="form-control" placeholder="" aria-describedby="helpId">

                <small></small>
            </div>

            <div class="form-group">
                <label for="">ConfirmPassword</label>
                <input type="text" name="" id="userConfirmpassword" class="form-control" placeholder="" aria-describedby="helpId">

                <small></small>
            </div>
            <button class="btn btn-info" onclick="setData()" id="sub">submit</button>
        </div>
    </div>
    <div class="container p-5">
    <table class="table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Email</th>
                <th>Password</th>
            </tr>
        </thead>
        <tbody>
            
        </tbody>
    </table>

    
<!-- Modal -->
<div class="modal fade" id="modelId" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Modal title</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
            </div>
            <div class="modal-body">
              <div class="form-group">
                <label for="">Name</label>
                <input type="text" name="" id="uName" class="form-control" placeholder="" aria-describedby="helpId">
             
              </div>
              <label for="">eMAIL</label>
              <input type="text" name="" id="uEmail" class="form-control" placeholder="" aria-describedby="helpId">
             
            
            <div class="form-group">
            <label for="">Name</label>
            <input type="text" name="" id="uPassword" class="form-control" placeholder="" aria-describedby="helpId">
     
          </div>
        </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary">Save</button>
            </div>
        </div>
    </div>
</div>
  
</div>
<script>
    let myAllStudent = JSON.parse(localStorage.getItem('students')) || [] ;
    let editIndex = -1;
    function setData(){
        let uName= document.querySelector('#userName').value;
        let uEmail = document.querySelector('#userEmail').value;
        let uPassword = document.querySelector('#userPassword').value;
        myAllStudent.push({"name":uName ,"email":uEmail, "password":uPassword});
        localStorage.setItem('students',JSON.stringify(myAllStudent));
        // clearform();

    }
    let tbody = document.querySelector("tbody");
    let tr = "";
    function selectData(){
        let myStudents = JSON.parse(localStorage.getItem('students'));
        console.log(myStudents);
        console.log(myStudents);
        myStudents.forEach((element , index )=> {
            tr+=`
            <tr>
                <td>`+element.name+`</td>
                      <td>`+element.email+`</td>
                            <td>`+element.password+`</td>
                            <td><button  onclick="editData(`+index+`)" class="btn btn-info">Edit`+index+`</button></td>
                            </tr>
            `
            
        });
        tbody.innerHTML = tr;
            }
            selectData();

            function editData(index){
                editIndex = index;
                let record = myAllStudent[index];
                console.log(record);
                document.querySelector("#uName").value = record.name;
                document.querySelector("#uEmail").value = record.email;
                document.querySelector("#uPassword").value = record.password;
                $("#modelId").modal('show');
            }
            function saveData(){

            }
</script>
  </body>
</html>